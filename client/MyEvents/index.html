<!doctype html>

<html lang="en-US">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html">
  <title>GamerGator</title>

  <link rel="shortcut icon" href="http://spyrestudios.com/favicon.ico">
  <link rel="icon" href="http://spyrestudios.com/favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
  <link rel="stylesheet" type="text/css" media="screen and (max-width: 799px)" href="/Home/styles/mobile.css">
  <link rel="stylesheet" type="text/css" media="screen and (min-width: 800px) and (max-width: 1249px)" href="/Home/styles/mid.css">
  <link rel="stylesheet" type="text/css" media="screen and (min-width: 1250px)" href="/Home/styles/styles.css">
  <link rel="stylesheet" type="text/css" media="all" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css" />
  <link rel="stylesheet" href="./form.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
</head>


<body id="gamegatorApp">
  <div id="navbar"></div>
  <script src="/Home/js/script.js"></script>

  <!-- Events section -->
  <section>
    <article>
      <div style="padding: 18px">
        <br>
        <a href="#event-form" class="button button_primary">Add Event</a>
        <select id="sorting" class="eventNav" style="float:right;margin: 0px 20px;margin-top: 30px" onchange="getEvents()">
              <option value="created_at">Recently Created</option>
              <option value="time">Event Date</option>
              <option value="name">Event name</option>
          </select>

        <!-- CheckBoxes -->


        <div class="pretty p-default">
          <input type="checkbox" id="created" onclick="getEvents()" />
          <div class="state p-success">
            <font size="+1.8"><label>Created Events</label></font>
          </div>
        </div>
        <div class="pretty p-default">
          <input type="checkbox" id="favorited" onclick="getEvents()" />
          <div class="state p-success">
            <font size="+1.8"><label>Favorited Events</label></font>
          </div>
        </div>
        <div class="pretty p-default">
          <input type="checkbox" id="rsvpd" onclick="getEvents()" />
          <div class="state p-success">
            <font size="+1.8"><label>RSVP'd Events</label></font>
          </div>
        </div>

        <br><br><br>
        </nav>
        <hr>
      </div>

      <div class="container" id="listings">

        <div class='card' v-for="(event, index) in filteredList" style="cursor: pointer;">

          <div class="container" v-on:click="clicked(event)">
            <img v-if="event.games && event.games[0]" v-bind:src="event.games[0].coverUrl" style="float: left; margin-right: 20px; margin-bottom: 20px;">
            <h4 class="event-name"><b>{{event.name}}</b><span style="font-size: 20px; float:right;">{{(new Date(event.time)).toLocaleDateString()}}</span></h4>
            <br>
            <p class="event-desc">{{event.description}}</p>
          </div>
        </div>
      </div>

    </article>
  </section>

  <!-- Tags section -->
  <div class="nav">
    <nav id="tags">
      <p style="color: white;padding:10px;font-size: 30px;">Tags </p>
      <label class="container">Role Playing
      <input id="role-playing" type="checkbox" onclick="getEvents()">
      <span class="checkmark"></span>
      </label>

      <label class="container">Board Games
        <input id="board-games" type="checkbox" onclick="getEvents()">
        <span class="checkmark"></span>
      </label>

      <label class="container">PC Games
        <input id="pc-games"  type="checkbox" onclick="getEvents()">
        <span class="checkmark"></span>
      </label>

      <label class="container">Xbox Games
        <input id="xbox-games"  type="checkbox" onclick="getEvents()">
        <span class="checkmark"></span>
      </label>

      <label class="container">PS4 Games
        <input id="ps4-games"  type="checkbox" onclick="getEvents()">
        <span class="checkmark"></span>
      </label>

      <label class="container">Card Games
        <input id="card-games"  type="checkbox" onclick="getEvents()">
        <span class="checkmark"></span>
      </label>

      <label class="container">No Buy-in
        <input id="no-buy-in"  type="checkbox" onclick="getEvents()">
        <span class="checkmark"></span>
      </label>

      <label class="container">Tournaments
        <input id="tournaments"  type="checkbox" onclick="getEvents()">
        <span class="checkmark"></span>
      </label>

      <label class="container">Casual
        <input id="casual" type="checkbox" onclick="getEvents()">
        <span class="checkmark"></span>
      </label>
    </nav>
  </div>

  <div class="form-popup-background" id="form-background" onclick="closeForm(); closeForm2(); closeFormIGDB(); enable_scroll()">
  </div>

  <!--CREATE AN EVENT Form-->
  <div id="event-form" class="modal-window">
    <div>
      <a href="#modal-close" title="Close" class="modal-close" onclick="enable_scroll()">close&times;</a>
      <form class="form-container" onsubmit="submitEvent(); closeForm(); getEvents(); enable_scroll(); this.reset(); return false;" action="#" method="post">
        <h1 style="font-size: 24px; text-align: center"><u>Create Event</u></h1>
        <br>
        <label for="name"><b> Event</b></label>
        <input id="eventName" type="text" placeholder="Event name" name="name" required>
        <br>
        <label for="description"><b> Description</b></label>
        <input id="eventDesc" type="text" placeholder="Detailed description" name="description" required>
        <br>
        <label for="address"><b> Address</b></label>
        <input id="eventAdd" type="text" placeholder="Enter Address" name="address" required>
        <br>
        <button class="btn" type="button" onclick="switchToFormIGDB()" style="background-color: yellow; color: black;">Attach a game...</button><br>

        <label for="tags"><b> Tags (comma-seperated)</b></label>
        <textarea id="eventTags" onkeypress="console.log('press!'); refreshTags()" placeholder="Xbox, Call of duty, Tournament, free"></textarea>
        <br>

        <div id="role-playing-create" class="tag-container absent">
          <label class="tag" onclick="addTag('Role Playing')">Role Playing</label>
        </div>
        <div id="board-games-create" class="tag-container absent">
          <label class="tag" onclick="addTag('Board Games')">Board Games</label>
        </div>
        <div id="pc-games-create" class="tag-container absent">
          <label class="tag" onclick="addTag('PC Games')">PC Games</label>
        </div>
        <div id="xbox-games-create" class="tag-container absent">
          <label class="tag" onclick="addTag('Xbox Games')">Xbox Games</label>
        </div>
        <div id="ps4-games-create" class="tag-container absent">
          <label class="tag" onclick="addTag('PS4 Games')">PS4 Games</label>
        </div>
        <div id="card-games-create" class="tag-container absent">
          <label class="tag" onclick="addTag('Card Games')">Card Games</label>
        </div>
        <div id="no-buy-in-create" class="tag-container absent">
          <label class="tag" onclick="addTag('No Buy-in')">No Buy-in</label>
        </div>
        <div id="tournaments-create" class="tag-container absent">
          <label class="tag" onclick="addTag('Tournaments')">Tournaments</label>
        </div>
        <div id="casual-create" class="tag-container absent">
          <label class="tag" onclick="addTag('Casual')">Casual</label>
        </div>
        <br><br>
        <label for="time" style="padding-left:0.3em"><b>Time</b></label>
        <input id="eventTime" type="date" name="time" required>
        <label for="price" style="padding-left:7.2em"><b>Price</b></label>
        <input id="eventFee" type="number" name="price" required>
        <br><br><br><br>
        <button align="center" type="submit" value="Create" class="btn button" href="#modal-close" style="margin: 0; width: 100%">Create</button>
        <!-- <button align="center" type="submit" class="btn" oncick="submitEvent(); closeForm();">Create</button> -->
      </form>
    </div>
  </div>

  <div class="form-popup" id="myForm2">
    <form class="form-container" onsubmit="return false;" id="form-contents">
    </form>
  </div>

  <div class="form-popup" id="myFormIGDB">
    <form class="form-container" onsubmit="searchGames(); return false;" style="width: auto;">
      <h1 style="font-size: 30px">Create Event: Game selection</h1>
      <input style="width: 100%; height: 30px; float: left; margin-bottom: 0px; margin-top: 20px" id="gameSearch">
      <button type="button" class="btn" onclick="searchGames()">Search</button>
      <div style="font-size: 20px; overflow: auto;" id="games">
      </div>
      <button type="button" class="btn cancel" onclick="switchBackToForm1()">Back</button>
    </form>
  </div>


  <!-- myevents.js -->
  <script src="/Home/js/MyEvents.js"></script>
  <!-- JQUERY -->
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

  <!-- VUE JS -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <!-- close profile popup -->
  <script>
    var modal = document.getElementById('id02');
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
  </script>

  <!-- OUR APP JS -->
  <script src="/Home/js/app.js"></script>
  <script src="/Home/js/events_factory.js"></script>
  <script>
    getEvents()
  </script>
</body>

</html>
